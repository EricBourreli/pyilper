<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
  <title>Terminal Tab</title>
</head>

<body bgcolor="#FFF677" link="#008F00">
  <table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr bgcolor="#FFF000">
      <th valign="middle" align="left" width="1%"><a href=
      "../index.html"><img src=
      "../Images/hpil.png" alt="Home" border="0"></a></th>

      <td valign="middle" align="left" width="98%">
        <h1><a name="Top">Terminal Tab</a></h1>
      </td>

      <td valign="middle" align="right" width="1%"><nobr><a href=
      "../index.html">pyILPER Manual</a> &#187; <a href=
      "index.html">User Interface</a></nobr></td>
    </tr>
  </table>

  <table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
      <td valign="middle" align="left" width="99%">

        <h2>Description</h2>
        <p>This virtual HP-IL device emulates a terminal (display and
        keyboard).<p>

        <p>HP-IL configuration:</p>

        <table border="1">
        <tr><td>Accessory ID</td><td>0x3E</td></tr>
        <tr><td>Default Address</td><td>8</td></tr>
        <tr><td>Device ID</td><td>PILTERM</td></tr>
        </table>

        <p>The display supports all escape sequences which are
        specified on page 328 of the HP-71B reference manual.</p>

        <h2>Requirements and setup</h2>

        <p>The <i>Enable IDY frames</i> option in the pyILPER configuration must 
        be enabled. You need at least the firmware version 1.6 installed on the 
        PIL-Box as well!</p>

        <p>To use the keyboard emulator you have to install the
        <i>keyboard</i> lex and the <i>pilterm</i> basic program first.
        Both files are provided in the LIF disk image file
        <i>PILIMAGE.DAT</i> which is part of the pyILPER package.<p>


        <p>The function <i>Copy PILIMAGE.DAT to workdir</i> in the
        Utilities menu copies the file <i>PILIMAGE.DAT</i> from the pyILPER
        software directory to the current pyILPER working directory.
        Mount <i>PILIMAGE.DAT</i> to a virtual drive and copy the 
        <i>KEYBOARD</i> lexfile and the <i>PILTERM</i> basic program to the HP-71B.

       
        <h2>Use</h2>

        <p>Enter <i>RUN PILTERM</i> from the HP-71B keyboard and make
        the terminal tab of pyILPER visible. You should now see a blinking
        cursor.  Click into terminal window. Now you can enter characters that
        are sent to the HP-71B as keyboard input.</p>

        <p>If the keyboard hangs press the <i>ATTN</i> key twice at the HP-71 and
        rerun the <i>PILTERM</i> program from the HP-71 keyboard.</p>

        <p>If you need to reconfigure the loop simply run the <i>PILTERM</i> 
        program from the terminal window again.</p>

        <p>The keyboard emulator uses the following function key mapping:</p>

        <table border="1">
        <tr><th>PC keyboard</th><th>HP-71 key</th></tr>
        <tr><td>Up</td><td>Up</td></tr>
        <tr><td>Down</td><td>Down</td></tr>
        <tr><td>Left</td><td>Left</td></tr>
        <tr><td>Right</td><td>Right</td></tr>
        <tr><td>Back</td><td>BACK</td></tr>
        <tr><td>Page Up</td><td>Jump Begin</td></tr>
        <tr><td>Page Down</td><td>Jump End</td></tr>
        <tr><td>Home</td><td>Cursor to begin of line</td></tr>
        <tr><td>End</td><td>Cursor to end of line</td></tr>
        <tr><td>Insert</td><td>I/R</td></tr>
        <tr><td>Delete</td><td>-CHAR</td></tr>
        <tr><td>F1</td><td>ATTN</td></tr>
        <tr><td>F2</td><td>RUN</td></tr>
        <tr><td>F3</td><td>CMDS</td></tr>
        <tr><td>F4</td><td>SST</td></tr>
        <tr><td>F5</td><td>-LINE</td></tr>
        <tr><td>F6</td><td>LC</td></tr>
        </table>

        <P>To enter a numeric character value hold down the <i>ALT</i>
        key and enter a 3 digit numeric value (000 - 127).</p>

        <p>For MAC Users the following shortcuts are available:</p>
        <table border="1">
        <tr><th>Shortcut</th><th>Character or function</th></tr>
        <tr><td>ALT-5</td><td>[</td></tr>
        <tr><td>ALT-6</td><td>]</td></tr>
        <tr><td>ALT-8</td><td>{</td></tr>
        <tr><td>ALT-9</td><td>}</td></tr>
        <tr><td>ALT-L</td><td>@</td></tr>
        <tr><td>ALT-I</td><td>toggle insert/replace</td></tr>
        </table>

      </td>
    </tr>

    <tr>
      <td valign="middle" align="left" width="99%">

        <h2>Device controls</h2>
        <p>The terminal tab provides the following controls:</b>
        <ul>
        <li><em>Device enabled</em> checkbox: If checked then the virtual HP-IL terminal
        device is available on the loop. Please mind to reconfigure
        the loop each time this box has been checked or unchecked.</li>
        <li><em>Charset</em> combobox: select the character set that is emulated.
        You may choose between HP-41 character set (alternate character set
        of the HP82162 thermal printer), HP-71 character set and the
        Roman-8 character set. The characters are converted to unicode
        and displayed in the terminal window. Note: the character with code 002
        is displayed without overbar.
        </li>
        </ul>
      </td>
    </tr>
    <tr>
      <td valign="middle" align="left" width="99%">

        <h2>PILTERM Basic Program for the HP-71B</h2>
        <pre>
 10 IF POS(VER$,"KBD")=0 THEN BEEP 1450,.1 @ 
    DISP "NEED KEYBOARD LEX FILE" @ END
 20 RESET ESCAPE
 30 RESET HPIL @ RESTORE IO @ CLEAR @ KEYBOARD IS :DEVADDR("PILTERM")
 40 DISPLAY IS :DEVADDR("PILTERM")
 50 CFLAG -23
 60 ESCAPE 'A',50 @ ESCAPE 'B',47 @ ESCAPE 'C',48 @ ESCAPE 'D',51
 70 ESCAPE 'E',159 @ ESCAPE 'F',160 @ ESCAPE 'G',104 @ ESCAPE 'H',105 @ 
    ESCAPE 'I',107
 80 ESCAPE 'J',162 @ ESCAPE 'K',163 @ ESCAPE 'L',43 @ ESCAPE 'M',46 @ 
    ESCAPE 'N',150
 90 ESCAPE 'O',106 @ ESCAPE 'P',102 @ ESCAPE 'Q',103 @ ESCAPE 'R',38
 100 DELAY 0,INF

        </pre>
      </td>
    </tr>
  </table><br>

  <table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr bgcolor="#FFF000">
      <td valign="center" align="center"><a href=
      "scope.html"><font color=
      "#66A000"><b>Scope Tab</b></font></a> ::
       <a href="drive.html">Drive Tab</a> ::
       <a href="printer.html">Printer Tab</a> ::
       <a href="terminal.html">Terminal Tab</a> ::
       <a href="plotter.html">Plotter Tab</a></td>
    </tr>
  </table>
</body>
</html>
